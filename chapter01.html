<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第一章 - 初遇</title>
    <link rel="stylesheet" href="common.css">
</head>
<body>
    <div class="game-container">
        <img class="background" src="教室背景.jpg" alt="教室背景">
        
        <!-- 角色立繪 -->
        <img class="character main-character" src="主角.png" alt="主角">
        <img class="character other-character" src="沈凌琛.png" alt="沈凌琛">
        
        <!-- 場景動畫 -->
        <video id="scene-video" class="scene-video" style="display: none;">
            <source src="" type="video/mp4">
        </video>

        <!-- 對話框 -->
        <div class="dialogue-box" style="display: none;">
            <div class="speaker-name"></div>
            <div id="dialogue-text"></div>
            <div class="next-button">▶</div>
        </div>
        
        <!-- 控制按鈕 -->
        <div class="control-buttons">
            <button type="button" class="control-button auto-play-control" onclick="gameSystem.dialogue.toggleAutoPlay()" title="自動播放">▶</button>
            <button type="button" class="control-button music-control" onclick="gameSystem.audio.toggleMute()" title="音樂開關">🔊</button>
            <button type="button" class="control-button fast-forward-control" onclick="gameSystem.dialogue.toggleFastForward()" title="快進模式">⏩</button>
            <button type="button" class="control-button reset-button" onclick="gameSystem.progress.resetProgress()" title="重置進度">🔄</button>
        </div>
        
        <!-- 進度條 -->
        <div class="progress-bar" style="display: none;">
            <div class="progress-fill"></div>
        </div>
    </div>

    <!-- 引入腳本 -->
    <script src="scripts/common.js"></script>
    <script>
        // 確保 gameSystem 已經初始化
        if (!window.gameSystem) {
            console.error('gameSystem 未正確初始化！');
        }
    </script>
    <script src="scenes.js"></script>
    <script>
        // 確保場景數據已經載入
        if (!window.gameScenes) {
            console.error('gameScenes 未正確載入！');
        }
    </script>
    <script src="chapter01.js"></script>
</body>
</html>